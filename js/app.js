function e(){this.p_currentWord="",this.p_phraseLocs=[],this.p_phraseSelected=-1,this.p_phraseLength=0}function t(){}function n(){this.p_rawText=""}function o(){this.isDisplayed=!1,this.isIndexed=!1,this.p_posIndex={},this.p_wordIDIndex={},this.p_wordPosIndex={},this.p_wordIDKeys=[],this.p_wordCount=0,this.p_wordDiversity=0,this.p_soughtFragm=""}function r(){for(var e=chlonnik.mainIndex.getNumbers(this.p_currentWord),t=0;t<e.length;t++)utl.id("w-"+e[t]).className=null;this.p_currentWord="";for(var t=0;t<this.p_phraseLocs.length;t++)for(var n=0;n<this.p_phraseLength;n++)utl.id("w-"+(this.p_phraseLocs[t]+n)).className=null;this.p_phraseLocs=[],this.p_phraseLength=-1,this.p_phraseSelected=-1,utl.id("bottom-bar").style.display="none",utl.id("bt-diagram").style.display="none"}function s(e,t){this.p_currentWord=e;for(var n=chlonnik.mainIndex.getNumbers(this.p_currentWord),o=0;o<n.length;o++)n[o]==t?utl.id("w-"+n[o]).className="highlight hl-main":utl.id("w-"+n[o]).className="highlight";this.p_showBar(chlonnik.mainIndex.getNumbers(e),t)}function l(e,t){if(e=parseInt(e),t=parseInt(t),this.p_phraseLength=t,this.p_phraseLocs.push(e),-1==this.p_phraseSelected&&(this.p_phraseSelected=e),1==t)return void(utl.id("w-"+e).className="hl-phrase");if(this.p_phraseSelected==e)for(var n=0;t>n;n++)utl.id("w-"+(e+n)).className="hl-phrase hl-main";else for(var n=0;t>n;n++)utl.id("w-"+(e+n)).className="hl-phrase"}function a(e){if(!chlonnik.mainIndex.isDisplayed)return!1;this.clearHighlight();var t=e.target||e.srcElement;if("w-"!=t.id.substr(0,2))return!1;var n=t.id.substr(2),o=t.textContent;return this.highlight(o,n),this.scrollTo(n,!0),!0}function h(){this.p_phraseLocs.length>0&&this.p_showBar(this.p_phraseLocs,this.p_phraseSelected)}function c(e,t){if(e=parseInt(e),t){var n=this.p_currentWord;this.clearHighlight(),this.highlight(n,e)}else if(this.p_phraseLocs.length>0){if(-1!=this.p_phraseSelected)for(var o=0;o<this.p_phraseLength;o++)utl.id("w-"+(this.p_phraseSelected+o)).className="hl-phrase";this.p_phraseSelected=e;for(var o=0;o<this.p_phraseLength;o++)utl.id("w-"+(e+o)).className="hl-phrase hl-main";this.refreshBarPhrase()}else{var n=this.p_currentWord;this.clearHighlight(),this.highlight(n,e)}var i=window.innerHeight||screen.availHeight,r=utl.id("w-"+e).offsetTop;t||window.scroll(0,r-.35*i)}function d(e,t){t=parseInt(t),utl.id("bottom-bar").style.display="block",t>0?utl.id("bt-info").innerHTML="Wystąpienie <b>"+(1+e.indexOf(t))+"</b> z "+e.length+":":utl.id("bt-info").innerHTML="Wystąpień: <b>"+e.length+"</b>",utl.id("bt-diagram").style.display="inline";for(var n=utl.id("bt-diagram"),o=.025*chlonnik.mainIndex.getWordCount(),i="",r=0;r<e[0]/o;r++)i+=". ";for(var r=0;r<e.length;r++){var s='<a href="javascript:chlonnik.h.oneWord.scrollTo('+e[r]+')">'+utl.id("w-"+e[r]).textContent.substr(0,1)+"</a>";if(e[r]==t&&(s="<em>"+s+"</em>"),i+=s,r!=e.length-1)for(var l=0;l<Math.floor((e[r+1]-e[r])/o);l++)i+=". ";else for(var a=0;a<Math.floor((chlonnik.mainIndex.getWordCount()-e[r])/o);a++)i+=". "}n.innerHTML=i}function u(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t&&t(),e()}}function p(){this.p_rawText="",chlonnik.mainIndex.clear(),chlonnik.h.oneWord.clearHighlight(),utl.id("text-input").value="",utl.id("text-results").innerHTML="",utl.id("text-input").style.display="block",utl.id("text-results").style.display="none"}function f(){this.p_rawText=utl.id("text-input").value,chlonnik.mainIndex.absorb(this.p_rawText),this.p_displayResults()}function y(e){utl.id("main-button").innerHTML=Math.floor(100*e)+"%"}function w(){var e=this,t=function(){chlonnik.mainIndex.isIndexed?(utl.id("text-input").style.display="none",utl.id("text-results").style.display="block",chlonnik.delays.nextCallback=function(t){for(var n=Date.now();t.i<e.p_rawText.length;t.i++){if(Date.now()-n>chlonnik.delays.timeout)return window.setTimeout(function(){chlonnik.delays.nextCallback(chlonnik.delays.cache)},chlonnik.delays.delay),e.progress(.3+t.i/e.p_rawText.length*.7),!1;if(t.index.getEndPos(t.i)){var o=e.p_rawText.substr(t.i,t.index.getEndPos(t.i)-t.i+1),i=t.index.getPositions(o).length,r=i*t.redRGBFactor;r>255&&(r=255);var s=Math.ceil(176-136*(r/255)),l="<span id=w-"+t.wordN+' style="color: rgb('+r+",96,"+s+')">'+o+"</span>";o.length>1&&t.index.isRepeatedNearly(o,t.i,200)&&(l="<u>"+l+"</u>"),t.resultText=t.resultText+l,t.index.p_insertID(o,t.index.getPositions(o).indexOf(t.i),t.wordN),t.wordN++,t.i=t.index.getEndPos(t.i)}else"\n"==e.p_rawText[t.i]?t.resultText+="<br>":t.resultText+=e.p_rawText[t.i]}return e.showResultsMode(),utl.id("text-results").innerHTML=t.resultText,t.resultText=null,chlonnik.mainIndex.p_markDisplayed(),!0},chlonnik.delays.cache={index:chlonnik.mainIndex,resultText:"",redRGBFactor:Math.floor(1/(Math.pow(e.p_rawText.length,1.5)/210/chlonnik.mainIndex.getWordDiversity())*255),wordN:0,i:0},chlonnik.delays.nextCallback(chlonnik.delays.cache)):window.setTimeout(t,chlonnik.delays.delay)};t()}function g(){chlonnik.mode="input",utl.id("main-button").innerHTML="Sprawdź tekst!",utl.id("wd-search").style.display="none"}function m(){chlonnik.mode="pending",utl.id("main-button").innerHTML="..."}function k(){chlonnik.mode="results",utl.id("main-button").innerHTML="Inny/Kolejna wersja",utl.id("wd-search").style.display="block"}function x(e){var t=this;chlonnik.delays.nextCallback=function(n){if(t.isIndexed)return!0;for(var o=Date.now();n.i<e.length;n.i++){if(Date.now()-o>chlonnik.delays.timeout)return window.setTimeout(function(){chlonnik.delays.nextCallback(chlonnik.delays.cache)},chlonnik.delays.delay),chlonnik.textDisplay.progress(n.i/e.length*.3),!1;var i=e.charAt(n.i),r=i.charCodeAt(0);"'"!=i&&"-"!=i&&(65>r||r>90&&97>r||r>172&&176>=r||"„"==i||"”"==i)?n.word!=n.strInit&&(t.p_insert(n.word,n.startPos,n.i-1),n.word=n.strInit):(n.word===n.strInit&&(n.startPos=n.i),n.word+=i)}return n.word!=n.strInit&&(t.p_insert(n.word,n.startPos,n.i),n.word=n.strInit),t.isIndexed=!0,!0},chlonnik.delays.cache={strInit:"",word:"",startPos:0,i:0},chlonnik.delays.nextCallback(chlonnik.delays.cache)}function v(){this.p_posIndex={},this.p_wordIDIndex={},this.p_wordCount=0,this.p_wordDiversity=0,this.isIndexed=!1,this.isDisplayed=!1}function _(){this.p_wordPosIndex={}}function b(e,t,n){return e=this.p_normalize(e),t?(this.p_soughtFragm=e,(!n||"s"!=n&&"e"!=n)&&(n="a"),chlonnik.delays.nextCallback=function(o){var i=Date.now(),r=chlonnik.mainIndex;if(e==r.p_soughtFragm){for(var s=[];chlonnik.delays.cache.i<r.p_wordIDKeys.length;chlonnik.delays.cache.i++){var l=r.p_wordIDKeys[chlonnik.delays.cache.i],a=!1;if("s"==n)for(var h=0;h<e.length;h++)if(l.charAt(h)!=e.charAt(h)){a=!0;break}if("e"==n)for(var h=0;h<e.length;h++)if(l.charAt(l.length-1-h)!=e.charAt(e.length-1-h)){a=!0;break}if("a"==n&&-1==l.indexOf(e)&&(a=!0),a||(s=s.concat(r.p_wordIDIndex[l])),Date.now()-i>.8*chlonnik.delays.timeout)return chlonnik.delays.cache.i++,window.setTimeout(function(){chlonnik.delays.nextCallback(chlonnik.delays.cache)},chlonnik.delays.delay),t(s),!1}return t(s),!0}},chlonnik.delays.cache.i=0,void chlonnik.delays.nextCallback(chlonnik.delays.cache)):this.p_wordIDIndex[e]?this.p_wordIDIndex[e].slice(0):!1}function I(e){return this.p_wordPosIndex[this.p_normalize(e)]||!1}function T(e,t,n){this.p_wordCount++,e=this.p_normalize(e),this.p_posIndex[t]=n,this.p_wordPosIndex.hasOwnProperty(e)?this.p_wordPosIndex[e].push(t):(this.p_wordPosIndex[e]=[t],this.p_wordDiversity++)}function D(e,t,n){this.p_wordIDIndex.hasOwnProperty(this.p_normalize(e))||(this.p_wordIDIndex[this.p_normalize(e)]=[]),this.p_wordIDIndex[this.p_normalize(e)][t]=n}function C(e,t,n){var o=this.getPositions(this.p_normalize(e));if(!o)return utl.log("Can't find word in index: "+e),!1;var i=o.indexOf(t);return!o||1==o.length||(0===i||t-this.getEndPos(o[i-1])>n)&&(i+1==o.length||o[i+1]-t>n)?!1:!0}function P(){this.p_clearPosIndex(),this.isDisplayed=!0,this.p_wordIDKeys=Object.keys(this.p_wordIDIndex)}function N(e){if(!e)return"";var e=e.substr(0,1).toLowerCase()+e.substr(1);return e}function L(e){if(chlonnik.h.oneWord.clearHighlight(),!(e.trim().length<=1)){var t=e.trim().split(" "),n=chlonnik.mainIndex;if(1==t.length)return void n.getNumbers(t[0],function(e){for(var t=0;t<e.length;t++)chlonnik.h.oneWord.highlightPhrase(e[t],1);chlonnik.h.oneWord.refreshBarPhrase(),chlonnik.h.oneWord.scrollTo(e[0],!1)},"a");if(t.length>2){for(var o=n.getNumbers(t[1]),i=0;i<o.length;i++)o[i]--;for(var r=2;r<t.length-2;r++){for(var s=n.getNumbers[r],i=0;i<s.length;i++)s[i]-=r;o=utl.intersect(o,s)}}chlonnik.delays.cache.pool2=[],chlonnik.delays.cache.endWord=t[t.length-1],chlonnik.delays.cache.wordCount=t.length,o?chlonnik.delays.cache.pool1=o:chlonnik.delays.cache.pool1=!1;var l=function(e){var t=chlonnik.delays.cache;if(t.pool2=t.pool2.concat(e),t.i==n.getWordDiversity()){if(t.pool1?t.pool1=utl.intersect(t.pool1,t.pool2):t.pool1=t.pool2,0==t.pool1.length)return;n.getNumbers(t.endWord,t.endFunc,"s")}};chlonnik.delays.cache.endFunc=function(e){for(var t=chlonnik.delays.cache,n=!1,o=0;o<e.length;o++)e[o]-=t.wordCount-1,-1!=t.pool1.indexOf(e[o])&&(n||(n=e[o]),chlonnik.h.oneWord.highlightPhrase(e[o],t.wordCount));return n?(chlonnik.h.oneWord.refreshBarPhrase(),void chlonnik.h.oneWord.scrollTo(n,!1)):!1},n.getNumbers(t[0],l,"e")}}e.prototype.clearHighlight=r,e.prototype.getCurrentWord=function(){return this.p_currentWord},e.prototype.highlight=s,e.prototype.highlightPhrase=l,e.prototype.mouseDown=a,e.prototype.refreshBarPhrase=h,e.prototype.scrollTo=c,e.prototype.p_showBar=d,t.prototype.search=L,n.prototype.newInput=p,n.prototype.processInput=f,n.prototype.progress=y,n.prototype.showInputMode=g,n.prototype.showPending=m,n.prototype.showResultsMode=k,n.prototype.p_displayResults=w,o.prototype.absorb=x,o.prototype.clear=v,o.prototype.getEndPos=function(e){return this.p_posIndex[e]||!1},o.prototype.getNumbers=b,o.prototype.getPositions=I,o.prototype.getWordCount=function(){return this.p_wordCount},o.prototype.getWordDiversity=function(){return this.p_wordDiversity},o.prototype.isRepeatedNearly=C,o.prototype.p_clearPosIndex=_,o.prototype.p_insert=T,o.prototype.p_insertID=D,o.prototype.p_markDisplayed=P,o.prototype.p_normalize=N,chlonnik={h:{oneWord:new e,wordSearch:new t},textDisplay:new n,mainIndex:new o,mode:"input",delays:{delay:50,timeout:100,nextCallback:null,cache:{},intervalID:null},mainButtonHandler:function(){switch(chlonnik.mode){case"input":chlonnik.textDisplay.showPending(),window.setTimeout(function(){chlonnik.textDisplay.processInput()},100);break;case"results":chlonnik.textDisplay.newInput(),chlonnik.textDisplay.showInputMode()}},scrollHandler:function(){var e=document.body.offsetHeight||window.document.documentElement.scrollHeight,t=window.innerHeight||document.documentElement.clientHeight,n=window.scrollY||window.document.documentElement.scrollTop;if(!(n+t>=e)){var o=utl.id("menu"),i=utl.id("wd-search");o.getBoundingClientRect().top<0&&!o.className?(o.className="sticky-menu",i.className="sticky-wd-search","results"==chlonnik.mode&&utl.id("main-button").getBoundingClientRect().left<utl.id("wd-search").getBoundingClientRect().right&&(utl.id("main-button").innerHTML="usuń")):(utl.id("text-input").getBoundingClientRect().top>0||utl.id("text-results").getBoundingClientRect().top>0)&&o.className&&(o.className="",i.className="base-wd-search","results"==chlonnik.mode&&(utl.id("main-button").innerHTML="Inny/Kolejna wersja"))}}},u(function(){Mousetrap.bind(["command+;","ctrl+;"],chlonnik.mainButtonHandler),utl.id("main-button").onclick=chlonnik.mainButtonHandler,utl.id("text-results").onmousedown=function(e){chlonnik.h.oneWord.mouseDown(e)},document.body.onmousedown=function(e){"results"!=chlonnik.mode||e.target!=document.body&&e.srcElement!=document.body||chlonnik.h.oneWord.mouseDown(e)},utl.id("wd-search-input").onkeyup=function(e){chlonnik.h.wordSearch.search(utl.id("wd-search-input").value)},window.onscroll=function(){window.setTimeout(chlonnik.scrollHandler,500)}}),function(e,t,n){function o(e,t,n){return e.addEventListener?void e.addEventListener(t,n,!1):void e.attachEvent("on"+t,n)}function i(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return T[e.which]?T[e.which]:D[e.which]?D[e.which]:String.fromCharCode(e.which).toLowerCase()}function r(e,t){return e.sort().join(",")===t.sort().join(",")}function s(e){e=e||{};var t,n=!1;for(t in W)e[t]?n=!0:W[t]=0;n||(M=!1)}function l(e,t,n,o,i,s){var l,a,h=[],c=n.type;if(!N[e])return[];for("keyup"==c&&f(e)&&(t=[e]),l=0;l<N[e].length;++l)if(a=N[e][l],(o||!a.seq||W[a.seq]==a.level)&&c==a.action&&("keypress"==c&&!n.metaKey&&!n.ctrlKey||r(t,a.modifiers))){var d=!o&&a.combo==i,u=o&&a.seq==o&&a.level==s;(d||u)&&N[e].splice(l,1),h.push(a)}return h}function a(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function h(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function c(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function d(e,t,n,o){S.stopCallback(t,t.target||t.srcElement,n,o)||e(t,n)===!1&&(h(t),c(t))}function u(e,t,n){var o,i=l(e,t,n),r={},a=0,h=!1;for(o=0;o<i.length;++o)i[o].seq&&(a=Math.max(a,i[o].level));for(o=0;o<i.length;++o)if(i[o].seq){if(i[o].level!=a)continue;h=!0,r[i[o].seq]=1,d(i[o].callback,n,i[o].combo,i[o].seq)}else h||d(i[o].callback,n,i[o].combo);var c="keypress"==n.type&&H;n.type!=M||f(e)||c||s(r),H=h&&"keydown"==n.type}function p(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=i(e);if(t)return"keyup"==e.type&&E===t?void(E=!1):void S.handleKey(t,a(e),e)}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function y(){clearTimeout(I),I=setTimeout(s,1e3)}function w(){if(!b){b={};for(var e in T)e>95&&112>e||T.hasOwnProperty(e)&&(b[T[e]]=e)}return b}function g(e,t,n){return n||(n=w()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function m(e,t,n,o){function r(t){return function(){M=t,++W[e],y()}}function l(t){d(n,t,e),"keyup"!==o&&(E=i(t)),setTimeout(s,10)}W[e]=0;for(var a=0;a<t.length;++a){var h=a+1===t.length,c=h?l:r(o||x(t[a+1]).action);v(t[a],c,o,e,a)}}function k(e){return"+"===e?["+"]:e.split("+")}function x(e,t){var n,o,i,r=[];for(n=k(e),i=0;i<n.length;++i)o=n[i],P[o]&&(o=P[o]),t&&"keypress"!=t&&C[o]&&(o=C[o],r.push("shift")),f(o)&&r.push(o);return t=g(o,r,t),{key:o,modifiers:r,action:t}}function v(e,t,n,o,i){L[e+":"+n]=t,e=e.replace(/\s+/g," ");var r,s=e.split(" ");return s.length>1?void m(e,s,t,n):(r=x(e,n),N[r.key]=N[r.key]||[],l(r.key,r.modifiers,{type:r.action},o,e,i),void N[r.key][o?"unshift":"push"]({callback:t,modifiers:r.modifiers,action:r.action,seq:o,level:i,combo:e}))}function _(e,t,n){for(var o=0;o<e.length;++o)v(e[o],t,n)}for(var b,I,T={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},D={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},C={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},P={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},N={},L={},W={},E=!1,H=!1,M=!1,B=1;20>B;++B)T[111+B]="f"+B;for(B=0;9>=B;++B)T[B+96]=B;o(t,"keypress",p),o(t,"keydown",p),o(t,"keyup",p);var S={bind:function(e,t,n){return e=e instanceof Array?e:[e],_(e,t,n),this},unbind:function(e,t){return S.bind(e,function(){},t)},trigger:function(e,t){return L[e+":"+t]&&L[e+":"+t]({},e),this},reset:function(){return N={},L={},this},stopCallback:function(e,t){return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},handleKey:u};e.Mousetrap=S,"function"==typeof define&&define.amd&&define(S)}(window,document),u(function(){-1!=document.cookie.indexOf("warned=true")&&(document.getElementById("cookies-warning").style.display="none")}),hideCookiesWarning=function(){var e=new Date;e.setTime(e.getTime()+2592e6),document.cookie="warned=true; expires="+e.toGMTString()+"; path=/",cookieFrame=0;for(var t=1;4>t;t++)window.setTimeout(function(){document.getElementById("cookies-warning").style.height=6-2*cookieFrame++ +"em"},50*t);document.getElementById("cookies-warning").style.border="0px",document.getElementById("cookies-warning").style.padding="0px",window.setTimeout(function(){document.getElementById("cookies-warning").style.display="none"},200)},utl={create:function(e,t){var n=document.createElement(e);for(i in t)n[i]=t[i];return n},id:function(e){return document.getElementById(e)},log:function(e){console.log(e)},intersect:function(e,t){for(var n=0,o=0,i=new Array;n<e.length&&o<t.length;)e[n]<t[o]?n++:e[n]>t[o]?o++:(i.push(e[n]),n++,o++);return i}},Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var r,s,l=[];for(r in i)e.call(i,r)&&l.push(r);if(t)for(s=0;o>s;s++)e.call(i,n[s])&&l.push(n[s]);return l}}());
//# sourceMappingURL=map.txt